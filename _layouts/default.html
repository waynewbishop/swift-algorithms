<!DOCTYPE html>
<html lang="en">
{% include head.html %}
<body>
  <div class="layout-container">
    {% include sidebar.html %}

    <div class="main-wrapper">
      {% include header.html %}

      <main class="main-content">
        {{ content }}
      </main>

      <footer class="main-footer">
        <p>&copy; {{ 'now' | date: "%Y" }} {{ site.author }}. All rights reserved.</p>
        <p>This code is available for both commercial and open-source projects.</p>
      </footer>
    </div>
  </div>

  <!-- Mobile overlay -->
  <div class="sidebar-overlay" id="sidebarOverlay"></div>

  <!-- JavaScript -->
  <script src="{{ '/assets/js/main.js' | relative_url }}"></script>

  <!-- Mermaid Diagram Support -->
  <script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
    mermaid.initialize({
      startOnLoad: true,
      theme: 'neutral',
      themeVariables: {
        primaryColor: '#007aff',
        primaryTextColor: '#fff',
        primaryBorderColor: '#005eb8',
        lineColor: '#86868b',
        secondaryColor: '#34c759',
        tertiaryColor: '#ff9500',
        fontSize: '16px',
        fontFamily: '-apple-system, BlinkMacSystemFont, "SF Pro Text", system-ui, sans-serif',
        nodeBorder: '2px',
        mainBkg: '#007aff',
        textColor: '#1d1d1f',
        edgeLabelBackground: '#f5f5f7'
      },
      flowchart: {
        curve: 'basis',
        padding: 20
      }
    });
  </script>
</body>
</html>
